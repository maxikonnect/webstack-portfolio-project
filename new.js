const quiz = {
    JS : [
        {
            "id": 1,
            "question": "Which of the following best illustrates a teacher applying a constructivists approach to student learning?",
            
            "options": [
                "A language arts teacher provides students with concrete reward each time they turn in a written assignment that is free of errors",
                "A math teacher has students use hands-on materials and real-world problems to acquire new concepts and practices",
                "A science teacher demonstrates the correct procedures for performing complex experiments",
                "A social studies teacher uses visual aids and logical progression of ideas when presenting lessons about unfamiliar topics"
            ],
            "answer": "A math teacher has students use hands-on materials and real-world problems to acquire new concepts and practices",
            "score": 0,
            "selectedOption": null
        },

        {
            "id": 2,
            "question": "A JHS teacher gives students a term project that involves various activities such as conducting research, interviewing people, writing a report, and making a group presentation in class. Which of the following strategies should the teacher use to help the students successfully carry out their projects?",
            "options": [
                "Explaining to the students how the objectives of the project fit into a larger instructional plan.",
                "Organizing project tasks in a step-by-step sequence and providing students directions and reminders for completing each step.",
                "Putting students into groups and scheduling regular times for them to meet.",
                "Reassuring students that they possess all the skills and abilities needed to complete the project tasks."
            ],
            "answer": "Organizing project tasks in a step-by-step sequence and providing students directions and reminders for completing each step.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 3,
            "question": "In a typical teaching and learning environment, students are most likely to be intrinsically motivated to learn when they:",
            "options": [
                "Anticipate they will receive positive rewards for achieving instructional objectives.",
                "Are interested in what they are learning and understand how it relates to their own lives.",
                "Know that they will be writing a test or examination in the near future.",
                "Perceive their performance compares favorably with that of peers engaged in the same task."
            ],
            "answer": "Are interested in what they are learning and understand how it relates to their own lives.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 4,
            "question": "The free SHS Programme in Ghana is funded by the:",
            "options": [
                "Annual Budget Funding Amount",
                "Chinese Government",
                "Ghana Education Trust Fund",
                "Scholarship Secretariat"
            ],
            "answer": "Ghana Education Trust Fund",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 5,
            "question": "Alhaji Musa has recently been appointed as the head of an educational institution. Upon assuming duty, he thought of carving a statement of the ideal future of the school. This statement is a broad image of the possibilities that lie ahead. This statement is called a/an",
            "options": [
                "Mission statement",
                "Operations statement",
                "Target statement",
                "Vision statement"
            ],
            "answer": "Vision statement",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 6,
            "question": "Which of the following statements about effective classroom management is false?",
            "options": [
                "Planning ahead of the first day of school",
                "Teachers having at least four rules to guide them",
                "The difference between calm productivity and total class disorder",
                "The same strategies but may vary to the techniques used for each class"
            ],
            "answer": "Teachers having at least four rules to guide them",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 7,
            "question": "Global citizenship education is a form of …………….that involves student’s active participation in projects that address global issues of social, political, and economic development",
            "options": [
                "Civic education",
                "Civic learning",
                "Global awareness",
                "Global culture"
            ],
            "answer": "Global awareness",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 8,
            "question": "Which of the following affirms that quality is at the heart of education and therefore sets out the desirable characteristics for the various components for equality education-learners, content and system?",
            "options": [
                "Global Education Policy Dashboard",
                "Salamanca Statement And Framework For Action",
                "World Bank Education Strategy",
                "2000 Darker Framework For Action"
            ],
            "answer": "Salamanca Statement And Framework For Action",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 9,
            "question": "Which of the following in Ghana has the objective of equitable educational opportunity and the prioritization of the disadvantaged in the society?",
            "options": [
                "Disability law inclusive Education",
                "Inclusive Education System",
                "Right to Education Principle",
                "Right to Education Provision"
            ],
            "answer": "Inclusive Education System",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 10,
            "question": "When making important administrative decisions, it helps to",
            "options": [
                "Enlist advice from the assist school head",
                "Give teachers a chance to make their contributions",
                "Implement changes as quickly as possible",
                "Reward teachers who adapt more quickly"
            ],
            "answer": "Give teachers a chance to make their contributions",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 11,
            "question": "The standards specified in the content of the new GES Curriculum for Basic schools, adopted for the implementation in September 2019 in Ghana, are based on not only what Ghana as a nation requires of its workforce, but also on the demands of globalization. At the points of exit, it is expected that graduates for the curriculum will have attained knowledge and skills that allow them to compete in the international job market. Which of the following goals of the curriculum development is this reflected in?",
            "options": [
                "Better Ghana Agenda",
                "Development of a sense of civic responsibility",
                "Globally competitive Ghanaian workforce",
                "Preservation of national resources and cultural values"
            ],
            "answer": "Globally competitive Ghanaian workforce",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 12,
            "question": "Ensuring high teacher morale is important because teachers with high morale",
            "options": [
                "Are more likely to remain on the job in spite of challenges.",
                "Are rewarded for their efforts",
                "Ask more interesting questions of their students",
                "Produce higher test scores"
            ],
            "answer": "Are more likely to remain on the job in spite of challenges.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 13,
            "question": "During teacher evaluations the circuit supervisor or school head needs to take objective evidence-based notes to share with the teacher in post-observation conferences and use them to guide the discussions. Which of the following statements best illustrates such notes?",
            "options": [
                "In a class of 42, the teacher calls on one student to answer four out of ten questions asked",
                "The teacher is highly responsive to the cultural and other types of student diversity in the class",
                "The teacher makes little or no efforts to make instruction relevant to student interests and needs.",
                "Throughout the lesson, the teacher uses a variety of effective strategies to monitor student understanding."
            ],
            "answer": "Throughout the lesson, the teacher uses a variety of effective strategies to monitor student understanding.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 14,
            "question": "A school head is about to take over the leadership of a low-performing school. One of the school head’s first goals will be to evaluate teacher quality in the school. The school head can best begin this process by …………………",
            "options": [
                "Arranging to observe instruction in each classroom",
                "Comparing student grades in each subject area across classrooms",
                "Having each teacher complete a survey about his or her teaching practices",
                "Interviewing each teacher about his or teaching practices"
            ],
            "answer": "Arranging to observe instruction in each classroom",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 15,
            "question": "The basic assumption that supervision has an expectation attached to it means the supervision …………………..",
            "options": [
                "Is process that involves both accountability and authority",
                "Emphasizes the importance of professional learning communities",
                "Puts value and focus on individual student outcomes",
                "Encourages collaboration between teachers and students"
            ],
            "answer": "Is process that involves both accountability and authority",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 16,
            "question": "The 'One Teacher, One Laptop' initiative involves the government paying 80% of the cost while the teacher pays 20%.",
            "options": [
                "True",
                "False"
            ],
            "answer": "True",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 17,
            "question": "Which of the following statements best describes an effective strategy for teaching new vocabulary in the classroom?",
            "options": [
                "Introducing the new words through a lecture and providing definitions without context.",
                "Using multimedia and providing visual cues to explain the meaning of new words.",
                "Having students memorize the new words and definitions before using them in sentences.",
                "Focusing on grammar rules and sentence structure rather than the meaning of individual words."
            ],
            "answer": "Using multimedia and providing visual cues to explain the meaning of new words.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 18,
            "question": "Which of the following is most likely to contribute to a positive classroom climate?",
            "options": [
                "The teacher maintaining strict control over every aspect of the class.",
                "Encouraging student collaboration and making space for open communication.",
                "Giving individual students constant attention while ignoring the rest.",
                "Allowing students to work without any rules or structure."
            ],
            "answer": "Encouraging student collaboration and making space for open communication.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 19,
            "question": "A key principle of formative assessment is to:",
            "options": [
                "Measure the final outcome of a student’s work.",
                "Use assessment results to adjust teaching methods and help students improve.",
                "Use it only at the end of a course to determine final grades.",
                "Focus solely on the teacher's evaluation of the student's work."
            ],
            "answer": "Use assessment results to adjust teaching methods and help students improve.",
            "score": 0,
            "selectedOption": null
        },

    ]
}

// TOTAL QUIZ QUESTIONS
const totalQuestionsContainer = document.querySelector(".totalQuestionsContainer");
const entireQuestions = totalQuestionsContainer.querySelector(".totalQuestions");
entireQuestions.textContent = quiz.JS.length;

// HTML SELECTORS
const quizContainer = document.querySelector(".quizContainer");
const questionContainer = document.querySelector(".questionContainer");
const before = document.querySelector(".before");
const next = document.querySelector(".next");
const submitNotice = document.querySelector(".submitNotice");
const result = document.querySelector(".result");

// QUESTION PAGES
const totalQuestions = quiz.JS.length;
const questionsPerPage = 5;
const totalPages = Math.ceil(totalQuestions / questionsPerPage);
let currentPage = 0;

// Render questions for the current page
function setQuestions() {
    questionContainer.innerHTML = ''; 

    const startIndex = currentPage * questionsPerPage;
    const endIndex = Math.min(startIndex + questionsPerPage, totalQuestions);

    // Display scenario if it's the second page
    if(currentPage === 0){
        const scenarioHTML = `
            <p class="true-false">SECTION A</p>
            <p class="true-false">MULTIPLE CHOICE QUESTIONS</p>
            <p class="instructions"><strong>INSTRUCTION: </strong>Answer all the questions in this section by choosing the circle corresponding to the correct answer.</p>
        `
        questionContainer.innerHTML += scenarioHTML;
    }

    if(currentPage === 8){
        const scenario1HTML = `
        <p class="true-false">SECTION B </p>
        <p class="true-false">TRUE/FALSE </p>
        <p class="true-false">Answer all questions in this section by identifying whether the statement provided is true or false.</p>
        `
        questionContainer.innerHTML += scenario1HTML; 
    }

    for (let i = startIndex; i < endIndex; i++) {
        const question = quiz.JS[i];
        const questionHTML = `
            <div class="question-wrapper">
                <p class="question-text">
                    <span class="question-number">${i + 1}.</span> ${question.question}
                </p>
                <div class="options-container">
                    ${Object.entries(question.options)
                        .map(
                            ([key, value]) => `
                        <div class="option">
                            <input 
                                type="radio" 
                                id="option${key}-${i}" 
                                value="${value}" 
                                name="option${i}" 
                                class="option-input" 
                                ${question.selectedOption === value ? 'checked' : ''}
                            >
                            <label for="option${key}-${i}" class="option-label">${value}</label>
                        </div>
                    `
                        )
                        .join('')}
                </div>
            </div>
        `;
        questionContainer.innerHTML += questionHTML;
    }

    // Add event listeners for the options
    quiz.JS.slice(startIndex, endIndex).forEach((question, index) => {
        const questionIndex = startIndex + index;
        document.querySelectorAll(`input[name="option${questionIndex}"]`).forEach((radio) => {
            radio.addEventListener('change', function () {
                quiz.JS[questionIndex].selectedOption = this.value;
                quiz.JS[questionIndex].score = this.value === question.answer ? 1 : 0;

                // Save answers to localStorage
                savedAnswers[questionIndex] = this.value;
                localStorage.setItem('userAnswers', JSON.stringify(savedAnswers));
            });
        });
    });

    updateNavigationButtons();
    addSubmitButton();
}

// Update navigation button states
function updateNavigationButtons() {
    before.disabled = currentPage === 0;
    next.disabled = currentPage === totalPages - 1;
}

// Add navigation functionality
before.addEventListener('click', () => {
    if (currentPage > 0) {
        currentPage--;
        setQuestions();
    }
});

next.addEventListener('click', () => {
    if (currentPage < totalPages - 1) {
        currentPage++;
        setQuestions();
    }
});

// Add the "Submit Test" button
function addSubmitButton() {
    result.innerHTML = '';
    submitNotice.innerHTML = '';

    let submitText = document.createElement('p');
    submitText.textContent = 'Finished With Test. View Results';
    submitText.classList.add("submitText")
    submitNotice.appendChild(submitText);

    let submit = document.createElement('button');
    submit.textContent = 'View Results';
    submit.classList.add("submitresults");
    submit.addEventListener('click', validateAndShowScore);
    result.appendChild(submit);
}

// Validate and show score
function validateAndShowScore() {
    const unansweredQuestions = [];
    quiz.JS.forEach((q, index) => {
        if (q.selectedOption === null) {
            unansweredQuestions.push(`Question ${index + 1}`);
        }
    });

    if (unansweredQuestions.length > 0) {
        alert(`Please answer the following questions before submitting:\n${unansweredQuestions.join('\n')}`);
        return;
    }

    showScore();
}

// Show the score and store results in localStorage
function showScore() {
    const totalScore = quiz.JS.reduce((total, question) => total + question.score, 0);
    const correctAnswers = quiz.JS.filter(q => q.score === 1).length;
    const wrongAnswers = quiz.JS.filter(q => q.score === 0).length;

    const results = {
        totalScore: totalScore,
        correctAnswers: correctAnswers,
        wrongAnswers: wrongAnswers,
        details: quiz.JS.map(q => ({
            question: q.question,
            selectedOption: q.selectedOption,
            correctAnswer: q.answer,
            isCorrect: q.score === 1
        }))
    };

    localStorage.setItem('ddQuizResults2', JSON.stringify(results));
    window.location.href = './ddresult2.html'; // Navigate to the results page
}

// Initialize the quiz
setQuestions();
