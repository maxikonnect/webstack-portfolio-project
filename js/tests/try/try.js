const quiz = {
    JS: [
        {
            "id": 1,
            "question": ".............................is the information or facts or skills attained through learning or education.",
            "options": [
                "Training",
                "Assessment",
                "Knowledge",
                "Examination"
            ],
            "answer": "Knowledge",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 2,
            "question": "Who initiated the Behaviourist Theory of language development which suggests that, parents reinforce the baby’s efforts at language?",
            "options": [
                "B.F Skinner",
                "Noam Chomsky",
                "Vygotsky",
                "Trawick-Smith"
            ],
            "answer": "B.F Skinner",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 3,
            "question": "Schumann’s Accumulated Model is based on the fact that:",
            "options": [
                "language is acquired through parents",
                "language is not acquired without socialization",
                "language is not acquired through socialization",
                "children learn language through imitation"
            ],
            "answer": "language is not acquired without socialization",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 4,
            "question": "Which of the following is not a factor in salary determination?",
            "options": [
                "Comparison with related jobs",
                "Job description",
                "Job assessment",
                "Log service or Rank"
            ],
            "answer": "Log service or Rank",
            "score": 0,
            "selectedOption": null
        },
        {
            "question": "The characteristics of a Profession include: <br>" +
            "I. Certification <br>" +
            "II. Guided by a body of ethics and standards <br>" +
            "III. Has a licensing structure",


            "options": [
                "I, II, III and V",
                "I, II and III",
                "I and II",
                "II, III and IV"
            ],
            "answer": "I, II and III",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 6,
            "question": "Gold Hammer developed types of supervision for Supervisors and these are: <br>" +
             "I. Observation <br>" +
             "II. Analysis <br>" + 
             "III. Strategy planning <br>" + 
             "IV. Conference <br>" +
             "V. Post Conference Analysis (follow-up) <br>" +
             "VI. Brief visits",
            "options": [
                "I, II, III, V and VI",
                "II, III, IV and V",
                "I, II, III, IV, V and VI",
                "I, II, III, IV and V"
            ],
            "answer": "I, II, III, IV, V and VI",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 7,
            "question": "The vision of the Ghana Education Service is to",
            "options": [
                "implement the approved policies of the Ministry of Education",
                "assist the Ministry of Education to formulate policies",
                "create an enabling environment in all educational institutions and management positions that will facilitate effective teaching and learning and efficiency in the management for the attainment of the goals of the Service.",
                "ensure that all Ghanaian children of school-going age are provided with quality formal education and training through effective and efficient management of resources to make education delivery relevant to the manpower and social needs of the nation"
            ],
            "answer": "create an enabling environment in all educational institutions and management positions that will facilitate effective teaching and learning and efficiency in the management for the attainment of the goals of the Service.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 8,
            "question": "............................is the mission of the Ghana Education Service.",
            "options": [
                "To implement the approved policies of the Ministry of Education",
                "To assist the Ministry of Education to formulate policies",
                "To create an enabling environment in all educational institutions and management positions that will sustain effective teaching and learning in schools and promote management efficiency within the service",
                "To ensure that all Ghanaian children of school-going age are provided with inclusive and equitable quality formal education and training through effective and efficient management of resources to make education delivery relevant to the manpower needs of the nation."
            ],
            "answer": "ensure that all Ghanaian children of school-going age are provided with inclusive and equitable quality formal education and training through effective and efficient management of resources to make education delivery relevant to the manpower needs of the nation.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 9,
            "question": "What is the mandate of the Ghana Education Service?",
            "options": [
                "implement the approved policies of the Ministry of Education",
                "assist the Ministry of Education to formulate policies",
                "create an enabling environment in all educational institutions and management positions that will sustain effective teaching and learning in schools and promote management efficiency within the service",
                "ensure that all Ghanaian children of school-going age are provided with quality formal education and training through effective and efficient management of resources to make education delivery relevant to the manpower and social needs of the nation"
            ],
            "answer": "implement the approved policies of the Ministry of Education",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 10,
            "question": "..........................is not a body under the Ministry of Education.",
            "options": [
                "National Council for Tertiary Education (NCTE)",
                "National Accreditation Board (NAB)",
                "Curriculum Research and Development Division (CRDD)",
                "Ghana Education Trust Fund (GETFund)"
            ],
            "answer": "Ghana Education Trust Fund (GETFund)",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 11,
            "question": "The standards specified in the content of the new GES Curriculum for Basic schools, adopted for the implementation in September 2019 in Ghana, are based on not only what Ghana as a nation requires of its workforce, but also on the demands of globalization. At the points of exit, it is expected that graduates for the curriculum will have attained knowledge and skills that allow them to compete in the international job market. Which of the following goals of the curriculum development is this reflected in?",
            "options": [
                "Better Ghana Agenda",
                "Development of a sense of civic responsibility",
                "Globally competitive Ghanaian workforce",
                "Preservation of national resources and cultural values"
            ],
            "answer": "Globally competitive Ghanaian workforce",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 12,
            "question": "Ensuring high teacher morale is important because teachers with high morale",
            "options": [
                "Are more likely to remain on the job in spite of challenges.",
                "Are rewarded for their efforts",
                "Ask more interesting questions of their students",
                "Produce higher test scores"
            ],
            "answer": "Are more likely to remain on the job in spite of challenges.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 13,
            "question": "During teacher evaluations the circuit supervisor or school head needs to take objective evidence-based notes to share with the teacher in post-observation conferences and use them to guide the discussions. Which of the following statements best illustrates such notes?",
            "options": [
                "In a class of 42, the teacher calls on one student to answer four out of ten questions asked",
                "The teacher is highly responsive to the cultural and other types of student diversity in the class",
                "The teacher makes little or no efforts to make instruction relevant to student interests and needs.",
                "Throughout the lesson, the teacher uses a variety of effective strategies to monitor student understanding."
            ],
            "answer": "Throughout the lesson, the teacher uses a variety of effective strategies to monitor student understanding.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 14,
            "question": "A school head is about to take over the leadership of a low-performing school. One of the school head’s first goals will be to evaluate teacher quality in the school. The school head can best begin this process by …………………",
            "options": [
                "Arranging to observe instruction in each classroom",
                "Comparing student grades in each subject area across classrooms",
                "Having each teacher complete a survey about his or her teaching practices",
                "Interviewing each teacher about his or teaching practices"
            ],
            "answer": "Arranging to observe instruction in each classroom",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 15,
            "question": "The basic assumption that supervision has an expectation attached to it means the supervision …………………..",
            "options": [
                "Is process that involves both accountability and authority",
                "Emphasizes the importance of professional learning communities",
                "Puts value and focus on individual student outcomes",
                "Encourages collaboration between teachers and students"
            ],
            "answer": "Is process that involves both accountability and authority",
            "score": 0,
            "selectedOption": null
        },
        {
            id: 16,
            question: "The general name for scoring guides used to evaluate the quality of student-constructed responses is called a _____________",
            options: [
                "Rubric",
                "Test",
                "Quiz",
                "Examination"
            ],
            answer: "Rubric",
            score: 0,
            selectedOption: null
        },
        {
            "id": 17,
            "question": "Which of the following statements best describes an effective strategy for teaching new vocabulary in the classroom?",
            "options": [
                "Introducing the new words through a lecture and providing definitions without context.",
                "Using multimedia and providing visual cues to explain the meaning of new words.",
                "Having students memorize the new words and definitions before using them in sentences.",
                "Focusing on grammar rules and sentence structure rather than the meaning of individual words."
            ],
            "answer": "Using multimedia and providing visual cues to explain the meaning of new words.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 18,
            "question": "Which of the following is most likely to contribute to a positive classroom climate?",
            "options": [
                "The teacher maintaining strict control over every aspect of the class.",
                "Encouraging student collaboration and making space for open communication.",
                "Giving individual students constant attention while ignoring the rest.",
                "Allowing students to work without any rules or structure."
            ],
            "answer": "Encouraging student collaboration and making space for open communication.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 19,
            "question": "A key principle of formative assessment is to:",
            "options": [
                "Measure the final outcome of a student’s work.",
                "Use assessment results to adjust teaching methods and help students improve.",
                "Use it only at the end of a course to determine final grades.",
                "Focus solely on the teacher's evaluation of the student's work."
            ],
            "answer": "Use assessment results to adjust teaching methods and help students improve.",
            "score": 0,
            "selectedOption": null
        },
        {
            "id": 20,
            "question": "Which teaching approach is most aligned with the principles of differentiated instruction?",
            "options": [
                "Using the same instructional materials and methods for all students.",
                "Adapting instruction to meet the diverse needs and learning styles of students.",
                "Relying exclusively on textbooks and lectures to deliver content.",
                "Focusing only on the needs of high-achieving students."
            ],
            "answer": "Adapting instruction to meet the diverse needs and learning styles of students.",
            "score": 0,
            "selectedOption": null
        },
        {
            id: 21,
            question: "Grades as indicators of what students have learned become tainted if non-academic factors are counted and included in the evaluation.",
            options: [
                "True",
                "False"
            ],
            answer: "True",
            score: 0,
            selectedOption: null
        },
        {
            id: 22,
            question: "It is not important to know the purpose of assessment before selecting an assessment approach.",
            options: [
                "True",
                "False"
            ],
            answer: "False",
            score: 0,
            selectedOption: null
        },
        {
            id: 23,
            question: "The developmental domain of childhood development are three (3).",
            options: [
                "True",
                "False"
            ],
            answer: "False",
            score: 0,
            selectedOption: null
        },
        {
            id: 24,
            question: "As far as the psychology of the child is concerned, the following can be thought of: temperament, temper, disposition, behaviour, and way of thinking.",
            options: [
                "True",
                "False"
            ],
            answer: "True",
            score: 0,
            selectedOption: null
        },
        {
            id: 25,
            question: "In the case of Re–engagement, a Court order or a document declaring the Teacher innocent must be attached to other relevant documents.",
            options: [
                "True",
                "False"
            ],
            answer: "False",
            score: 0,
            selectedOption: null
        },
        {
            id: 26,
            question: "A fundamental difference between inspection and supervision is that inspection is specific oriented whereas supervision involves all aspects of the school.",
            options: [
                "True",
                "False"
            ],
            answer: "True",
            score: 0,
            selectedOption: null
        },
        {
            id: 27,
            question: "When building a dossier on a misconducting Teacher, a Notebook must be procured by the Head teacher of the school to enter all the misconducts of the Teacher.",
            options: [
                "True",
                "False"
            ],
            answer: "False",
            score: 0,
            selectedOption: null
        },
        {
            id: 28,
            question: "Intuitive decision making is based on implicit knowledge relayed to the conscious mind at the point of decision through affect or unconscious cognition.",
            options: [
                "True",
                "False"
            ],
            answer: "True",
            score: 0,
            selectedOption: null
        },
        {
            id: 29,
            question: "Criterion referenced assessment falls under formal assessments.",
            options: [
                "True",
                "False"
            ],
            answer: "True",
            score: 0,
            selectedOption: null
        },
        {
            id: 30,
            question: "Due to the COVID-19 Pandemic, a CBE class is requested to have a minimum of 10 Learners per class.",
            options: [
                "True",
                "False"
            ],
            answer: "False",
            score: 0,
            selectedOption: null
        }
    ]
}


//HTML SELECTORS
const quizContainer = document.querySelector(".quizContainer");
const questionContainer = document.querySelector(".questionContainer");
const before = document.querySelector(".before");
const next = document.querySelector(".next");
const submitNotice = document.querySelector(".submitNotice");
const result = document.querySelector(".result");

//QUESTION PAGES
const totalQuestions = quiz.JS.length;
const questionsPerPage = 5;
const totalPages = Math.ceil(totalQuestions / questionsPerPage);
let currentPage = 0;

 

 // Render questions for the current page
 function setQuestions() {
    questionContainer.innerHTML = ''; 

    const startIndex = currentPage * questionsPerPage;
    const endIndex = Math.min(startIndex + questionsPerPage, totalQuestions);

    if(currentPage === 0){
        const scenarioHTML = `
            <p class="true-false">SECTION A</p>
            <p class="true-false">MULTIPLE CHOICE QUESTIONS</p>
            <p class="instructions"><strong>INSTRUCTION: </strong>Answer all the questions in this section by choosing the circle corresponding to the correct answer.</p>
        `
        questionContainer.innerHTML += scenarioHTML;
    }
    if(currentPage === 4){
        const scenario1HTML = `
        <p class="true-false">SECTION B </p>
        <p class="true-false">TRUE/FALSE </p>
        <p class="true-false">Answer all questions in this section by identifying whether the statement provided is true or false.</p>
        `
        questionContainer.innerHTML += scenario1HTML; 
    }

    for (let i = startIndex; i < endIndex; i++) {
        const question = quiz.JS[i];
        const questionHTML = `
            <div class="question-wrapper">
                <p class="question-text">
                    <span class="question-number">${i + 1}.</span> ${question.question}
                </p>
                <div class="options-container">
                    ${Object.entries(question.options)
                        .map(
                            ([key, value]) => `
                        <div class="option">
                            <input 
                                type="radio" 
                                id="option${key}-${i}" 
                                value="${value}" 
                                name="option${i}" 
                                class="option-input" 
                                ${question.selectedOption === value ? 'checked' : ''}
                            >
                            <label for="option${key}-${i}" class="option-label">${value}</label>
                        </div>
                    `
                        )
                        .join('')}
                </div>
            </div>
        `;
        questionContainer.innerHTML += questionHTML;
    }

    // Add event listeners for the options
    quiz.JS.slice(startIndex, endIndex).forEach((question, index) => {
        const questionIndex = startIndex + index;
        document.querySelectorAll(`input[name="option${questionIndex}"]`).forEach((radio) => {
            radio.addEventListener('change', function () {
                quiz.JS[questionIndex].selectedOption = this.value;
                quiz.JS[questionIndex].score = this.value === question.answer ? 1 : 0;

                // Save answers to localStorage
                savedAnswers[questionIndex] = this.value;
                localStorage.setItem('userAnswers', JSON.stringify(savedAnswers));
            });
        });
    });

    updateNavigationButtons();
    addSubmitButton();
}


 // Update navigation button states
 function updateNavigationButtons() {
     before.disabled = currentPage === 0;
     next.disabled = currentPage === totalPages - 1;

 }

 // Add navigation functionality
 before.addEventListener('click', () => {
     if (currentPage > 0) {
         currentPage--;
         setQuestions();
     }
 });

 next.addEventListener('click', () => {
     if (currentPage < totalPages - 1) {
         currentPage++;
         setQuestions();
     }
 });

 // Add the "Submit Test" button
 function addSubmitButton() {
     result.innerHTML = '';
     submitNotice.innerHTML = '';

    let submitText = document.createElement('p');
    submitText.textContent = 'Finished With Test. View Results';
    submitText.classList.add("submitText")
    submitNotice.appendChild(submitText);

    let submit = document.createElement('button');
    submit.textContent = 'View Results';
    submit.classList.add("submitresults");
    submit.addEventListener('click', validateAndShowScore);
    result.appendChild(submit);
 }

 // Validate and show score
 function validateAndShowScore() {
     const unansweredQuestions = [];
     quiz.JS.forEach((q, index) => {
         if (q.selectedOption === null) {
             unansweredQuestions.push(`Question ${index + 1}`);
         }
     });

     if (unansweredQuestions.length > 0) {
         alert(`Please answer the following questions before submitting:\n${unansweredQuestions.join('\n')}`);
         return;
     }

     showScore();
 }

 // Show the score and store results in localStorage
 function showScore() {
     const totalScore = quiz.JS.reduce((total, question) => total + question.score, 0);
     const correctAnswers = quiz.JS.filter(q => q.score === 1).length;
     const wrongAnswers = quiz.JS.filter(q => q.score === 0).length;

     const results = {
         totalScore: totalScore,
         correctAnswers: correctAnswers,
         wrongAnswers: wrongAnswers,
         details: quiz.JS.map(q => ({
             question: q.question,
             selectedOption: q.selectedOption,
             correctAnswer: q.answer,
             isCorrect: q.score === 1
         }))
     };

     localStorage.setItem('tryQuizResults1', JSON.stringify(results));
     window.location.href = './tryresult1.html'; // Navigate to the results page
 }

 // Initialize the quiz
 setQuestions();